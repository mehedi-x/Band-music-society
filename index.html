<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Speak_Eu</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Make header smaller and professional */
    .app-header {
      padding: 0.6rem 1rem;
      background: #0059b3;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      transition: opacity 0.3s ease, height 0.3s ease, padding 0.3s ease;
      position: relative;
      z-index: 1000;
    }
    .app-title {
      font-size: 1.3rem;
      font-weight: 600;
      margin: 0;
      user-select: none;
    }
    #language-select {
      font-size: 0.9rem;
      padding: 0.3rem 0.5rem;
      border-radius: 5px;
      border: none;
      cursor: pointer;
      min-width: 140px;
    }
    #menu-toggle {
      background: #003c82;
      border: none;
      border-radius: 50%;
      color: white;
      font-size: 1.2rem;
      padding: 0.25rem 0.4rem;
      margin-left: 0.5rem;
      cursor: pointer;
      transition: background-color 0.2s ease;
      user-select: none;
    }
    #menu-toggle:hover {
      background-color: #002a58;
    }

    /* Menu styles */
    .menu-panel {
      display: none; /* Hidden by default */
      position: absolute;
      top: 60px; /* Below the header */
      right: 0;
      background: white;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      padding: 1rem;
      border-radius: 5px;
      z-index: 1100;
      width: 220px;
      user-select: none;
    }
    .menu-panel.open {
      display: block; /* Show menu when open */
    }
    .menu-item {
      margin: 0.5rem 0;
      cursor: pointer;
      user-select: none;
      font-weight: 500;
      font-size: 1rem;
      color: #0059b3;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      transition: background-color 0.2s ease;
    }
    .menu-item:hover {
      background-color: rgba(0, 89, 179, 0.1);
      text-decoration: none;
    }
    .dark-mode-toggle {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.3rem;
      user-select: none;
    }
    .dark-mode-toggle label {
      font-weight: 600;
      color: #0059b3;
      cursor: pointer;
    }
    .dark-mode-toggle input[type="checkbox"] {
      width: 40px;
      height: 20px;
      position: relative;
      -webkit-appearance: none;
      background: #c6c6c6;
      outline: none;
      border-radius: 12px;
      box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
      transition: 0.3s;
      cursor: pointer;
    }
    .dark-mode-toggle input[type="checkbox"]:checked {
      background: #0059b3;
      box-shadow: inset 0 0 5px #004080;
    }
    .dark-mode-toggle input[type="checkbox"]::before {
      content: '';
      position: absolute;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      top: 1px;
      left: 1px;
      background: white;
      transition: 0.3s;
      box-shadow: 0 0 2px rgba(0,0,0,0.2);
    }
    .dark-mode-toggle input[type="checkbox"]:checked::before {
      left: 21px;
      background: #112244;
    }

    /* Mobile friendly */
    @media (max-width: 600px) {
      .app-header {
        flex-direction: column;
        align-items: stretch;
        padding: 0.5rem 1rem;
      }
      .app-title {
        font-size: 1.1rem;
        text-align: center;
        margin-bottom: 0.4rem;
      }
      .header-right {
        display: flex;
        justify-content: center;
        gap: 0.4rem;
      }
      #language-select {
        width: 100%;
        max-width: none;
      }
      #menu-toggle {
        margin-left: 0;
      }
      .menu-panel {
        width: 100vw;
        max-width: 280px;
        top: 56px;
        right: 0;
        border-radius: 0;
        box-shadow: none;
      }
      .menu-item {
        font-size: 1.1rem;
        padding: 0.5rem 0.75rem;
      }
    }

  </style>
</head>
<body>

  <header class="app-header">
    <h1 class="app-title">Speak EU</h1>
    <div class="header-right">
      <select id="language-select" aria-label="Select language">
        <option value="russian">ðŸ‡·ðŸ‡º Russian</option>
        <option value="german">ðŸ‡©ðŸ‡ª German</option>
        <option value="italian">ðŸ‡®ðŸ‡¹ Italian</option>
        <option value="french">ðŸ‡«ðŸ‡· French</option>
        <option value="spanish">ðŸ‡ªðŸ‡¸ Spanish</option>
        <option value="portuguese">ðŸ‡µðŸ‡¹ Portuguese</option>
        <option value="dutch">ðŸ‡³ðŸ‡± Dutch</option>
        <option value="swedish">ðŸ‡¸ðŸ‡ª Swedish</option>
        <option value="norwegian">ðŸ‡³ðŸ‡´ Norwegian</option>
        <option value="finnish">ðŸ‡«ðŸ‡® Finnish</option>
        <option value="danish">ðŸ‡©ðŸ‡° Danish</option>
        <option value="greek">ðŸ‡¬ðŸ‡· Greek</option>
        <option value="polish">ðŸ‡µðŸ‡± Polish</option>
        <option value="czech">ðŸ‡¨ðŸ‡¿ Czech</option>
        <option value="hungarian">ðŸ‡­ðŸ‡º Hungarian</option>
        <option value="slovak">ðŸ‡¸ðŸ‡° Slovak</option>
        <option value="slovenian">ðŸ‡¸ðŸ‡® Slovenian</option>
        <option value="estonian">ðŸ‡ªðŸ‡ª Estonian</option>
        <option value="latvian">ðŸ‡±ðŸ‡» Latvian</option>
        <option value="lithuanian">ðŸ‡±ðŸ‡¹ Lithuanian</option>
        <option value="croatian">ðŸ‡­ðŸ‡· Croatian</option>
        <option value="icelandic">ðŸ‡®ðŸ‡¸ Icelandic</option>
        <option value="maltesian">ðŸ‡²ðŸ‡¹ Maltese</option>
        <option value="austrian">ðŸ‡¦ðŸ‡¹ Austrian German</option>
        <option value="swiss">ðŸ‡¨ðŸ‡­ Switzerland </option>
        <option value="liechtenstein">ðŸ‡±ðŸ‡® Liechtenstein</option>
        <option value="luxembourgish">ðŸ‡±ðŸ‡º Luxembourgish</option>
      </select>
      <button id="menu-toggle" aria-label="Toggle menu" aria-expanded="false" aria-controls="menu-panel">â˜°</button>
    </div>
  </header>

  <nav id="menu-panel" class="menu-panel" role="navigation" aria-hidden="true" tabindex="-1">
    <div class="dark-mode-toggle menu-item">
      <label for="dark-mode-checkbox">Enable Dark Mode</label>
      <input type="checkbox" id="dark-mode-checkbox" />
    </div>
    <div class="menu-item" tabindex="0" role="button" id="settings">Settings</div>
    <div class="menu-item" tabindex="0" role="button" id="help">Help</div>
    <div class="menu-item" tabindex="0" role="button" id="about">About</div>
    <div class="menu-item" tabindex="0" role="button" id="logout">Logout</div>
  </nav>

  <main id="conversation-area"></main>

  <script src="script.js"></script>
  <script>
    // Selecting elements
    const languageSelect = document.getElementById('language-select');
    const header = document.querySelector('.app-header');
    const menuToggle = document.getElementById('menu-toggle');
    const menuPanel = document.getElementById('menu-panel');
    const darkModeCheckbox = document.getElementById('dark-mode-checkbox');

    // Hide header smoothly on language selection
    languageSelect.addEventListener('change', () => {
      header.style.opacity = '0';
      header.style.height = '0';
      header.style.padding = '0';
      header.style.overflow = 'hidden';
      // Optionally hide after animation for accessibility
      setTimeout(() => {
        header.style.display = 'none';
      }, 300);
      // Close menu when language selected
      closeMenu();
    });

    // Toggle menu open/close
    const openMenu = () => {
      menuPanel.classList.add('open');
      menuPanel.setAttribute('aria-hidden', 'false');
      menuToggle.setAttribute('aria-expanded', 'true');
      menuPanel.focus();
    };
    const closeMenu = () => {
      menuPanel.classList.remove('open');
      menuPanel.setAttribute('aria-hidden', 'true');
      menuToggle.setAttribute('aria-expanded', 'false');
      menuToggle.focus();
    };

    menuToggle.addEventListener('click', () => {
      if (menuPanel.classList.contains('open')) closeMenu();
      else openMenu();
    });

    // Close menu on pressing Escape key when menu focused
    menuPanel.addEventListener('keydown', e => {
      if (e.key === 'Escape') {
        closeMenu();
      }
    });

    // Close menu if clicking outside menu and toggle button
    document.addEventListener('click', e => {
      if (menuPanel.classList.contains('open') &&
          !menuPanel.contains(e.target) &&
          e.target !== menuToggle) {
        closeMenu();
      }
    });

    // Dark mode toggle with persistence to localStorage
    const applyDarkMode = enabled => {
      if (enabled) {
        document.body.classList.add('dark-mode');
        darkModeCheckbox.checked = true;
      } else {
        document.body.classList.remove('dark-mode');
        darkModeCheckbox.checked = false;
      }
    };

    // Load preference from localStorage
    const savedDarkMode = localStorage.getItem('dark-mode-enabled');
    applyDarkMode(savedDarkMode === 'true');

    darkModeCheckbox.addEventListener('change', () => {
      const enabled = darkModeCheckbox.checked;
      applyDarkMode(enabled);
      localStorage.setItem('dark-mode-enabled', enabled);
    });

    // Example handlers for menu items (can be replaced with real functionality)
    document.getElementById('settings').addEventListener('click', () => alert('Settings clicked'));
    document.getElementById('help').addEventListener('click', () => alert('Help clicked'));
    document.getElementById('about').addEventListener('click', () => alert('About clicked'));
    document.getElementById('logout').addEventListener('click', () => alert('Logout clicked'));
  </script>
</body>
</html>

