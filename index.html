<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Speak EU - Language Learning</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="app-header">
    <h1 class="app-title">Speak EU</h1>
    <div class="header-right">
      <select id="language-select">
        <option value="">Select Language</option>
        <option value="russian">ğŸ‡·ğŸ‡º Russian</option>
        <option value="german">ğŸ‡©ğŸ‡ª German</option>
        <option value="french">ğŸ‡«ğŸ‡· French</option>
        <option value="spanish">ğŸ‡ªğŸ‡¸ Spanish</option>
        <option value="italian">ğŸ‡®ğŸ‡¹ Italian</option>
      </select>
      <button id="mode-toggle">â˜€ï¸</button>
    </div>
  </header>

  <main id="conversation-area">
    <p>Please select a language to start learning.</p>
  </main>

  <script>
    const languageSelect = document.getElementById('language-select');
    const conversationArea = document.getElementById('conversation-area');
    const modeToggle = document.getElementById('mode-toggle');

    const langCodeMap = {
      russian: 'ru',
      german: 'de',
      french: 'fr',
      spanish: 'es',
      italian: 'it'
    };

    languageSelect.addEventListener('change', () => {
      const lang = languageSelect.value;
      if (!lang) return;
      fetch(`languages/${lang}.json`)
        .then(res => res.json())
        .then(data => renderVocabulary(data, langCodeMap[lang]))
        .catch(error => {
          conversationArea.innerHTML = `<p style="color:red;">Error loading data: ${error}</p>`;
        });
    });

    function renderVocabulary(list, langKey) {
      conversationArea.innerHTML = '';
      list.forEach(item => {
        const div = document.createElement('div');
        div.className = 'conversation-item';
        div.innerHTML = `
          <strong>${item.en}</strong><br>
          <em>${item.bnMeaning}</em><br>
          <span>${item[langKey]}</span>
        `;
        conversationArea.appendChild(div);
      });
    }

    modeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      modeToggle.textContent = document.body.classList.contains('dark-mode') ? 'ğŸŒ™' : 'â˜€ï¸';
    });
  </script>
</body>
</html>
