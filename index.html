<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Speak EU - Language Selection</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

    /* Base Reset and Styling */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: #f9fafb;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      user-select: none;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      padding: 1rem 1rem 2rem 1rem;
      color: #1e2a47;
    }

    /* Header */
    header {
      max-width: 480px;
      width: 100%;
      margin: 0 auto 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.3rem 0.6rem;
      background: #007bff;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgb(0 123 255 / 0.4);
      color: white;
      user-select: none;
      height: 44px;
    }
    .icon {
      font-size: 1.5rem;
      cursor: pointer;
      transition: color 0.25s ease;
      flex-shrink: 0;
    }
    .icon:hover {
      color: #d0e2ff;
    }
    .app-title {
      font-weight: 700;
      font-size: 1.1rem;
      text-align: center;
      flex-grow: 1;
      user-select: none;
      letter-spacing: 0.04em;
    }

    /* Main Content */
    main {
      max-width: 480px;
      width: 100%;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      padding: 1.5rem 1.5rem 2rem 1.5rem;
      box-shadow: 0 8px 24px rgb(0 0 0 / 0.06);
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      box-sizing: border-box;
    }

    label {
      font-size: 1rem;
      font-weight: 600;
      color: #004085;
    }

    select {
      width: 100%;
      font-size: 1rem;
      padding: 0.45rem 0.85rem;
      border-radius: 8px;
      border: 2px solid #004085;
      background-color: #e6f0ff;
      color: #004085;
      font-weight: 600;
      cursor: pointer;
      appearance: none;
      background-image:
        linear-gradient(45deg, transparent 50%, #004085 50%),
        linear-gradient(135deg, #004085 50%, transparent 50%),
        linear-gradient(to right, #e6f0ff, #e6f0ff);
      background-position:
        calc(100% - 20px) 1.3em,
        calc(100% - 15px) 1.3em,
        100% 0;
      background-size: 7px 7px, 7px 7px, 1px 1.5em;
      background-repeat: no-repeat;
      transition: background-color 0.3s ease, border-color 0.3s ease;
      user-select: none;
    }
    select:hover,
    select:focus {
      background-color: #c4dbff;
      border-color: #002a66;
      outline: none;
    }

    /* Advertisement */
    .advertisement {
      background-color: #dbe9ff;
      border-radius: 10px;
      padding: 1rem;
      color: #004085;
      font-style: italic;
      font-size: 1rem;
      text-align: center;
      box-shadow: inset 0 0 8px rgba(0,0,0,0.1);
      user-select: none;
    }

    /* Button */
    button {
      background-color: #004085;
      color: white;
      padding: 0.65rem;
      border-radius: 8px;
      border: none;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.25s ease;
    }
    button:hover,
    button:focus {
      background-color: #002a5c;
      outline: none;
    }

    /* Responsive */
    @media (max-width: 480px) {
      header {
        height: 40px;
        padding: 0.25rem 0.5rem;
      }
      .app-title {
        font-size: 1rem;
      }
      main {
        padding: 1rem 1rem 1.75rem 1rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <span class="icon" id="home-icon" title="Home">&#8962;</span>
    <span class="app-title">Speak EU</span>
    <span class="icon" id="mode-toggle" title="Toggle Dark Mode">🌙</span>
  </header>

  <main>
    <label for="language-select">Select your language / দেশ নির্বাচন করুন</label>
    <select id="language-select" aria-label="Select language">
      <option value="russian">🇷🇺 Russian</option>
      <option value="german">🇩🇪 German</option>
      <option value="italian">🇮🇹 Italian</option>
      <option value="french">🇫🇷 French</option>
      <option value="spanish">🇪🇸 Spanish</option>
      <option value="portuguese">🇵🇹 Portuguese</option>
      <option value="dutch">🇳🇱 Dutch</option>
      <option value="swedish">🇸🇪 Swedish</option>
      <option value="norwegian">🇳🇴 Norwegian</option>
      <option value="finnish">🇫🇮 Finnish</option>
      <option value="danish">🇩🇰 Danish</option>
      <option value="greek">🇬🇷 Greek</option>
      <option value="polish">🇵🇱 Polish</option>
      <option value="czech">🇨🇿 Czech</option>
      <option value="hungarian">🇭🇺 Hungarian</option>
      <option value="slovak">🇸🇰 Slovak</option>
      <option value="slovenian">🇸🇮 Slovenian</option>
      <option value="estonian">🇪🇪 Estonian</option>
      <option value="latvian">🇱🇻 Latvian</option>
      <option value="lithuanian">🇱🇹 Lithuanian</option>
      <option value="croatian">🇭🇷 Croatian</option>
      <option value="icelandic">🇮🇸 Icelandic</option>
      <option value="maltesian">🇲🇹 Maltese</option>
      <option value="austrian">🇦🇹 Austrian German</option>
      <option value="swiss">🇨🇭 Switzerland</option>
      <option value="liechtenstein">🇱🇮 Liechtenstein</option>
      <option value="luxembourgish">🇱🇺 Luxembourgish</option>
    </select>

    <button id="continue-btn" type="button">Continue</button>

    <div class="advertisement" aria-label="Advertisement">
      আপনার বিজ্ঞাপন এখানে প্রদর্শিত হবে।
    </div>
  </main>

  <script>
    // Elements
    const languageSelect = document.getElementById('language-select');
    const continueBtn = document.getElementById('continue-btn');
    const homeIcon = document.getElementById('home-icon');
    const modeToggle = document.getElementById('mode-toggle');

    // Load and apply saved language
    const savedLang = localStorage.getItem('selectedLanguage');
    if (savedLang) {
      const option = Array.from(languageSelect.options).find(opt => opt.value === savedLang);
      if (option) option.selected = true;
    }

    // Dark mode initial based on system preference or stored preference
    function applyInitialTheme() {
      const storedTheme = localStorage.getItem('theme');
      if (storedTheme === 'dark' || (!storedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.body.dataset.theme = 'dark';
        modeToggle.textContent = '☀️';
      } else {
        document.body.removeAttribute('data-theme');
        modeToggle.textContent = '🌙';
      }
    }
    applyInitialTheme();

    // Continue Button: Save language and go to app page
    continueBtn.addEventListener('click', () => {
      if (!languageSelect.value) {
        alert('Please select a language before continuing.');
        return;
      }
      localStorage.setItem('selectedLanguage', languageSelect.value);
      window.location.href = 'app.html';
    });

    // Home icon click reloads this page (index)
    homeIcon.addEventListener('click', () => {
      window.location.href = 'index.html';
    });

    // Dark mode toggle functionality with storage
    modeToggle.addEventListener('click', () => {
      if (document.body.dataset.theme === 'dark') {
        document.body.removeAttribute('data-theme');
        localStorage.setItem('theme', 'light');
        modeToggle.textContent = '🌙';
      } else {
        document.body.dataset.theme = 'dark';
        localStorage.setItem('theme', 'dark');
        modeToggle.textContent = '☀️';
      }
    });
  </script>

</body>
</html>

