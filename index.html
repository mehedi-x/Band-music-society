<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Speak EU - Practical European Conversations</title>
<style>
    /* Reset & base */
    * {
        box-sizing: border-box;
    }
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        user-select: none;
        background-color: var(--bg-color);
        color: var(--text-primary);
        transition: background-color 0.35s ease, color 0.35s ease;
    }
    :root {
        /* Light theme colors */
        --bg-color: #f9fafb;
        --header-bg: #3243f6;
        --header-text: #ffffff;
        --footer-bg: #2a32b9;
        --footer-text: #dcdefa;
        --card-bg: #ffffff;
        --card-shadow: rgba(50, 67, 246, 0.15);
        --text-primary: #222222;
        --text-secondary: #555555;
        --accent-blue: #3243f6;
        --accent-light-blue: #b7c2fc;
        --accent-hover-blue: #1b2cfa;
        --border-color: #d6d9ea;
        --ad-bg: linear-gradient(115deg, #edf0ff, #d6d9ea);
        --ad-border: #9aa6ee;
    }
    @media(prefers-color-scheme: dark) {
        :root {
            /* Dark theme colors */
            --bg-color: #121217;
            --header-bg: #1b24b8;
            --header-text: #d6d8ff;
            --footer-bg: #141a7e;
            --footer-text: #d6d8ff;
            --card-bg: #1e2131;
            --card-shadow: rgba(50, 67, 246, 0.35);
            --text-primary: #e0e0e0;
            --text-secondary: #a1a1a1;
            --accent-blue: #778cff;
            --accent-light-blue: #5a69db;
            --accent-hover-blue: #4957d7;
            --border-color: #3f4483;
            --ad-bg: linear-gradient(115deg, #2f3577, #414886);
            --ad-border: #5966ca;
        }
    }
    /* Layout */
    body, #app-wrapper {
        display: flex;
        flex-direction: column;
        height: 100%;
        min-height: 100vh;
        max-width: 480px;
        margin: 0 auto;
        background-color: var(--bg-color);
        border-radius: 12px;
        overflow: hidden;
        user-select: none;
        box-shadow:
          0 3px 10px rgb(50 67 246 / 0.15),
          0 20px 40px rgb(50 67 246 / 0.1);
    }
    header {
        background-color: var(--header-bg);
        color: var(--header-text);
        padding: 1.1rem 1.5rem;
        font-weight: 900;
        font-size: 1.9rem;
        text-align: center;
        letter-spacing: 0.11em;
        box-shadow: 0 4px 12px rgba(0,0,0,0.25);
        user-select: none;
        text-transform: uppercase;
        font-family: 'Segoe UI Black', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        flex-shrink: 0;
    }
    main.container {
        flex: 1 1 auto;
        background: var(--bg-color);
        color: var(--text-primary);
        display: flex;
        flex-direction: column;
        padding: 16px 20px 0 20px;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        user-select: text;
        gap: 10px;
    }
    label {
        font-weight: 700;
        font-size: 1.1rem;
        margin-bottom: 8px;
        color: var(--accent-hover-blue);
        user-select: none;
        display: block;
        letter-spacing: 0.02em;
    }
    select {
        width: 100%;
        padding: 12px 16px;
        font-size: 1.1rem;
        border: 2px solid var(--accent-light-blue);
        border-radius: 12px;
        outline: none;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        color: var(--accent-hover-blue);
        font-weight: 600;
        appearance: none;
        background: white url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="8"><path fill="%233243f6" d="M1 1l6 6 6-6"/></svg>') no-repeat right 18px center / 14px 8px;
        cursor: pointer;
        box-shadow: inset 0 0 8px var(--accent-light-blue);
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
        user-select: none;
    }
    select:hover {
        border-color: var(--accent-blue);
        box-shadow: inset 0 0 11px var(--accent-blue);
    }
    select:focus {
        border-color: var(--accent-hover-blue);
        box-shadow: 0 0 13px var(--accent-hover-blue);
    }
    #practice-toggle {
        align-self: flex-start;
        margin: 6px 0 12px 0;
        display: flex;
        align-items: center;
        gap: 10px;
        user-select: none;
    }
    #practice-toggle label {
        font-weight: 600;
        font-size: 1.05rem;
        color: var(--accent-hover-blue);
        cursor: pointer;
    }
    #practice-toggle input[type=checkbox] {
        width: 20px;
        height: 20px;
        cursor: pointer;
    }
    .vocabulary-grid {
        margin-top: 0;
        display: grid;
        grid-template-columns: 1fr;
        gap: 14px;
    }
    .word-card {
        background: var(--card-bg);
        border-radius: 14px;
        padding: 18px 20px 21px 20px;
        box-shadow: 0 6px 25px var(--card-shadow);
        text-align: left;
        font-size: 0.95rem;
        transition: transform 0.22s cubic-bezier(0.22, 1, 0.36, 1), box-shadow 0.22s ease;
        cursor: default;
        user-select: text;
        position: relative;
        display: flex;
        flex-direction: column;
        gap: 6px;
        scroll-margin-top: 50px;
    }
    .word-card:hover,
    .word-card:focus-visible {
        transform: translateY(-5px);
        box-shadow: 0 14px 42px var(--accent-blue);
        outline-offset: 3px;
        outline: 2px solid var(--accent-hover-blue);
        z-index: 10;
    }
    .native-text {
        font-weight: 900;
        font-size: 1.13rem;
        color: var(--accent-hover-blue);
        white-space: pre-wrap;
        user-select: text;
    }
    .bangla-pronunciation {
        font-style: italic;
        font-weight: 700;
        color: var(--accent-blue);
        font-size: 1rem;
        white-space: pre-wrap;
        user-select: text;
    }
    .bangla-meaning {
        font-weight: 600;
        color: var(--text-secondary);
        font-size: 1rem;
        white-space: pre-wrap;
        line-height: 1.33;
        user-select: text;
    }
    .english-meaning {
        font-weight: 500;
        color: #555555;
        font-size: 0.9rem;
        font-style: italic;
        white-space: pre-wrap;
        user-select: text;
        margin-top: 4px;
        line-height: 1.2;
    }
    .practice-btn {
        margin-top: auto;
        user-select: none;
        background-color: var(--accent-hover-blue);
        border: none;
        color: white;
        font-weight: 700;
        font-size: 0.9rem;
        border-radius: 11px;
        padding: 9px 17px;
        cursor: pointer;
        align-self: flex-start;
        box-shadow: 0 4px 13px var(--accent-blue);
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
        display: none;
    }
    .practice-btn:hover,
    .practice-btn:focus-visible {
        background-color: var(--accent-blue);
        box-shadow: 0 6px 22px var(--accent-hover-blue);
        outline: none;
    }
    .practice-active .practice-btn {
        display: block;
    }
    #welcome-message {
        margin-top: 40px;
        font-weight: 700;
        font-size: 1.25rem;
        color: var(--accent-hover-blue);
        text-align: center;
        user-select: none;
    }
    footer {
        background-color: var(--footer-bg);
        color: var(--footer-text);
        text-align: center;
        padding: 1rem 1rem;
        font-size: 0.9rem;
        user-select: none;
        box-shadow: inset 0 2px 5px rgba(255, 255, 255, 0.14);
        letter-spacing: 0.05em;
        font-weight: 600;
        flex-shrink: 0;
        border-top: 1px solid var(--border-color);
        user-select: none;
    }
    /* Scrollbar for container */
    main.container::-webkit-scrollbar {
        width: 8px;
    }
    main.container::-webkit-scrollbar-thumb {
        background-color: var(--accent-light-blue);
        border-radius: 10px;
    }
    main.container::-webkit-scrollbar-track {
        background: transparent;
    }
    /* Accessibility focus outline */
    button:focus-visible, select:focus-visible {
        outline: 3px solid var(--accent-hover-blue);
        outline-offset: 3px;
    }
</style>
</head>
<body>
<header role="banner" aria-label="Speak EU Application Header">
    Speak EU
</header>

<main class="container" role="main" aria-label="Speak EU Language Learning Conversations" tabindex="0">
    <label for="language-select">Select a Country / Language:</label>
    <select id="language-select" aria-label="Select language or country" aria-required="true" aria-describedby="help-text" autocomplete="off">
        <option value="0" selected>-- Please select a country --</option>
        <option value="russia">Russia</option>
        <option value="france">France</option>
        <option value="italy">Italy</option>
        <option value="all">All Countries</option>
    </select>
    <div id="help-text" class="visually-hidden">Use the dropdown to select a country to view conversation phrases.</div>

    <div id="welcome-message" role="region" aria-live="polite">
        üåü Welcome to Speak EU! Please select a country to explore practical conversations tailored for European expats and students. üåü
    </div>

    <div id="vocabulary-grid" class="vocabulary-grid" aria-live="polite" aria-atomic="true" aria-relevant="additions" hidden></div>

    <div id="practice-toggle" hidden>
        <input type="checkbox" id="practice-mode" />
        <label for="practice-mode" title="Toggle listening practice mode">Enable Practice Mode üîä</label>
    </div>
</main>

<footer role="contentinfo" aria-label="Speak EU Application Footer">
    &copy; 2024 Speak EU &mdash; Language Learning for European Expats and Students.
</footer>

<script>
    const russiaConversations = [
        {
            native:"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ú–µ–Ω—è –∑–æ–≤—É—Ç –î–∂–æ–Ω, —è –ø—Ä–∏–µ—Ö–∞–ª —É—á–∏—Ç—å—Å—è –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç.",
            banglaPronunciation:"‡¶ú‡¶¶‡¶∞‡¶æ‡¶¨‡¶¨‡ßç‡¶Ø‡ßÅ‡¶§‡¶á! ‡¶Æ‡ßá‡¶û‡ßç‡¶ú‡¶æ ‡¶ú‡ßã‡¶≠‡ßÅ ‡¶ú‡¶º‡¶®, ‡¶á‡¶Ø‡¶º‡¶æ ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶ñ‡¶æ‡¶≤ ‡¶â‡¶ö‡¶ø‡ßé‡¶∏‡¶æ ‡¶≠ ‡¶á‡¶â‡¶®‡¶ø‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶ø‡¶§‡ßá‡¶§‡•§",
            banglaMeaning:"‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã! ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ú‡¶®, ‡¶Ü‡¶Æ‡¶ø ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º‡ßá ‡¶™‡¶°‡¶º‡¶æ‡¶∂‡ßã‡¶®‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶è‡¶∏‡ßá‡¶õ‡¶ø‡•§",
            englishMeaning:"Hello! My name is John, I came to study at the university."
        },
        {
            native:"–ì–¥–µ —è –º–æ–≥—É —Å–Ω—è—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É –Ω–µ–¥–∞–ª–µ–∫–æ –æ—Ç –∫–∞–º–ø—É—Å–∞?",
            banglaPronunciation:"‡¶ó‡¶¶‡ßá ‡¶á‡¶Ø‡¶º‡¶æ ‡¶Æ‡ßã‡¶ó‡ßÅ ‡¶∏‡ßç‡¶®‡ßç‡¶Ø‡¶æ‡ßé ‡¶ï‡¶≠‡¶æ‡¶∞‡ßç‡¶§‡¶ø‡¶∞‡ßÅ ‡¶®‡ßá‡¶¶‡¶æ‡¶≤‡ßá‡¶ï‡ßã ‡¶Ö‡¶ü ‡¶ï‡¶æ‡¶Æ‡¶™‡ßÅ‡¶∏‡¶æ?",
            banglaMeaning:"‡¶Ü‡¶Æ‡¶ø ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™‡¶æ‡¶∏‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü ‡¶≠‡¶æ‡¶°‡¶º‡¶æ ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø?",
            englishMeaning:"Where can I rent an apartment near the campus?"
        },
        {
            native:"–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫—É—é –≤–∏–∑—É?",
            banglaPronunciation:"‡¶ï‡¶æ‡¶ï ‡¶™‡ßã‡¶≤‡ßÅ‡¶ö‡¶ø‡¶§ ‡¶∏‡ßç‡¶ü‡ßÅ‡¶¶‡ßá‡¶®‡¶ö‡ßá‡¶∏‡ßç‡¶ï‡ßÅ‡¶Ø‡¶º‡ßÅ ‡¶≠‡¶ø‡¶∏‡ßÅ?",
            banglaMeaning:"‡¶Ü‡¶Æ‡¶ø ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶õ‡¶æ‡¶§‡ßç‡¶∞ ‡¶≠‡¶ø‡¶∏‡¶æ ‡¶™‡¶æ‡¶¨‡ßã?",
            englishMeaning:"How to get a student visa?"
        },
        {
            native:"–í–æ —Å–∫–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è –∑–∞–Ω—è—Ç–∏—è –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ?",
            banglaPronunciation:"‡¶≠‡ßã ‡¶∏‡ßç‡¶ï'‡¶≤‡¶ï‡ßã ‡¶®‡¶æ‡¶ö‡¶ø‡¶®‡¶æ‡¶á‡¶â‡¶§‡¶∏‡ßç‡¶Ø‡¶æ ‡¶ú‡¶º‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø‡¶æ‡¶§‡¶ø‡¶Ø‡¶º‡¶æ ‡¶≠ ‡¶á‡¶â‡¶®‡¶ø‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶ø‡¶§‡ßá?",
            banglaMeaning:"‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º‡ßá ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ï‡¶ñ‡¶® ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶Ø‡¶º?",
            englishMeaning:"At what time do classes start at the university?"
        },
        {
            native:"–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –±–ª–∏–∂–∞–π—à–∞—è –±–æ–ª—å–Ω–∏—Ü–∞?",
            banglaPronunciation:"‡¶ó‡¶¶‡ßá ‡¶®‡¶æ‡¶ñ‡ßã‡¶¶‡¶ø‡ßé‡¶∏‡ßç‡¶Ø‡¶æ ‡¶¨‡ßç‡¶≤‡¶ø‡¶ù‡¶æ‡¶Ø‡¶º‡¶∂‡¶Ø‡¶º‡¶æ ‡¶¨‡¶≤‡¶®‡¶ø‡¶§‡¶∏‡¶æ?",
            banglaMeaning:"‡¶®‡¶ø‡¶ï‡¶ü‡¶§‡¶Æ ‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤ ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º?",
            englishMeaning:"Where is the nearest hospital?"
        },
        // Add more conversation items with similar structure if needed
    ];

    const franceConversations = [
        {
            native:"Bonjour! Je m'appelle Marie, je viens d'arriver pour mes √©tudes.",
            banglaPronunciation:"‡¶¨‡¶Å‡¶ú‡ßÅ‡¶∞! ‡¶ú‡ßç‡¶Ø ‡¶Æ‡¶æ-‡¶™‡ßá‡¶≤ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø, ‡¶ú‡ßç‡¶Ø ‡¶≠‡¶ø‡¶Ø‡¶º‡¶Å ‡¶ß‡¶æ‡¶∞‡¶ø‡¶≠‡ßá ‡¶™‡ßÅ‡¶∞ ‡¶Æ‡ßá ‡¶è‡¶ü‡ßÅ‡¶°‡•§",
            banglaMeaning:"‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã! ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶Æ‡¶æ‡¶∞‡¶ø, ‡¶Ü‡¶Æ‡¶ø ‡¶™‡¶°‡¶º‡¶æ‡¶∂‡ßã‡¶®‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶Ü‡¶ó‡¶æ‡¶õ‡¶ø‡•§",
            englishMeaning:"Hello! My name is Marie, I just arrived for my studies."
        },
        {
            native:"O√π puis-je trouver un appartement proche de l'universit√©?",
            banglaPronunciation:"‡¶â ‡¶™‡ßÅ‡¶á-‡¶ú‡¶º ‡¶§‡ßç‡¶∞‡ßÅ‡¶≠‡ßá ‡¶â‡¶® ‡¶Ü‡¶™‡¶æ‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡ßç‡¶∞‡¶ï ‡¶¶‡ßá ‡¶≤‡ßÅ‡¶®‡¶ø‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶ø‡¶§‡ßá?",
            banglaMeaning:"‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶Ü‡¶Æ‡¶ø ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º ‡¶™‡¶æ‡¶¨‡ßã?",
            englishMeaning:"Where can I find an apartment close to the university?"
        },
        {
            native:"Comment demander un visa √©tudiant?",
            banglaPronunciation:"‡¶ï‡ßã‡¶Æ‡ßç‡¶Æ‡¶Å ‡¶¶‡¶Æ‡¶æ‡¶®‡ßá ‡¶â‡¶® ‡¶≠‡¶ø‡¶∏‡¶æ ‡¶è‡¶ü‡ßÅ‡¶¶‡¶ø‡¶Ø‡¶º‡¶Å?",
            banglaMeaning:"‡¶Ü‡¶Æ‡¶ø ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡ßç‡¶ü‡ßÅ‡¶°‡ßá‡¶®‡ßç‡¶ü ‡¶≠‡¶ø‡¶∏‡¶æ ‡¶ö‡¶æ‡¶á?",
            englishMeaning:"How do I apply for a student visa?"
        },
        {
            native:"√Ä quelle heure commencent les cours?",
            banglaPronunciation:"‡¶Ü ‡¶ï‡ßá‡¶≤ ‡¶â‡¶∞ ‡¶ï‡¶Æ‡¶Å‡¶∏‡ßá ‡¶≤‡ßá ‡¶ï‡ßÅ‡¶∞?",
            banglaMeaning:"‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ï‡¶ñ‡¶® ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶Ø‡¶º?",
            englishMeaning:"At what time do the classes start?"
        },
        {
            native:"O√π est l'h√¥pital le plus proche?",
            banglaPronunciation:"‡¶â ‡¶è ‡¶≤'‡¶Ö‡¶™‡¶ø‡¶§‡¶æ‡¶≤ ‡¶≤‡ßá ‡¶™‡ßç‡¶≤‡ßÅ ‡¶™‡ßç‡¶∞‡¶ï?",
            banglaMeaning:"‡¶®‡¶ø‡¶ï‡¶ü‡¶§‡¶Æ ‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤ ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º?",
            englishMeaning:"Where is the nearest hospital?"
        },
        // Add more conversation items with similar structure if needed
    ];

    const italyConversations = [
        {
            native:"Ciao! Mi chiamo Marco, sono venuto per studiare.",
            banglaPronunciation:"‡¶ö‡¶ø‡¶Ø‡¶º‡¶æ‡¶ì! ‡¶Æ‡¶ø ‡¶ï‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ‡ßã ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßã, ‡¶∏‡ßã‡¶®‡ßã ‡¶≠‡ßá‡¶®‡ßÅ‡¶§‡ßã ‡¶™‡ßÅ‡¶∞ ‡¶∏‡ßç‡¶ü‡ßÅ‡¶¶‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞‡ßá‡•§",
            banglaMeaning:"‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã! ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßã, ‡¶Ü‡¶Æ‡¶ø ‡¶™‡¶°‡¶º‡¶æ‡¶∂‡ßã‡¶®‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶è‡¶∏‡ßá‡¶õ‡¶ø‡•§",
            englishMeaning:"Hello! My name is Marco, I came to study."
        },
        {
            native:"Dove posso trovare un appartamento vicino all'universit√†?",
            banglaPronunciation:"‡¶¶‡ßÅ‡¶≠‡ßá ‡¶™‡ßã‡¶∏‡ßã ‡¶§‡ßç‡¶∞‡ßã‡¶≠‡¶æ‡¶∞‡ßá ‡¶â‡¶® ‡¶Ü‡¶™‡¶æ‡¶∞‡ßç‡¶§‡¶§‡¶æ‡¶Æ‡ßá‡¶®‡ßç‡¶§‡ßã ‡¶≠‡¶ø‡¶ö‡¶ø‡¶®‡ßã ‡¶Ü‡¶≤‡ßç‡¶≤‡ßÅ‡¶®‡¶ø‡¶≠‡ßá‡¶∞‡¶∏‡¶ø‡¶§‡¶æ?",
            banglaMeaning:"‡¶Ü‡¶Æ‡¶ø ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º ‡¶™‡¶æ‡¶¨‡ßã?",
            englishMeaning:"Where can I find an apartment near the university?"
        },
        {
            native:"Come richiedere un visto studentesco?",
            banglaPronunciation:"‡¶ï‡ßã‡¶Æ‡ßá ‡¶∞‡¶ø‡¶ï‡¶ø‡¶Ø‡¶º‡ßá‡¶¶‡ßá‡¶∞‡ßá ‡¶â‡¶® ‡¶≠‡¶ø‡¶∏‡ßç‡¶§‡ßã ‡¶∏‡ßç‡¶ü‡ßÅ‡¶¶‡ßá‡¶®‡ßá‡¶∏‡ßç‡¶ï‡ßã?",
            banglaMeaning:"‡¶Ü‡¶Æ‡¶ø ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶õ‡¶æ‡¶§‡ßç‡¶∞ ‡¶≠‡¶ø‡¶∏‡¶æ ‡¶™‡¶æ‡¶¨‡ßã?",
            englishMeaning:"How to apply for a student visa?"
        },
        {
            native:"A che ora iniziano le lezioni all'universit√†?",
            banglaPronunciation:"‡¶Ü ‡¶ï‡ßá ‡¶ì‡¶∞‡¶æ ‡¶á‡¶®‡¶ø‡¶Ø‡¶æ‡¶®‡ßã ‡¶≤‡ßá ‡¶≤‡ßá‡¶ú‡¶ø‡¶ì‡¶®‡¶ø ‡¶Ü‡¶≤‡ßç‡¶≤‡ßÅ‡¶®‡¶ø‡¶≠‡ßá‡¶∞‡¶∏‡¶ø‡¶§‡¶æ?",
            banglaMeaning:"‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º‡ßá ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ï‡¶§‡¶ü‡¶æ‡¶Ø‡¶º ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶Ø‡¶º?",
            englishMeaning:"At what time do the classes start at the university?"
        },
        {
            native:"Dov‚Äô√® l‚Äôospedale pi√π vicino?",
            banglaPronunciation:"‡¶¶‡ßÅ‡¶≠‡ßá ‡¶≤‚Äô‡¶Ö‡¶∏‡ßç‡¶™‡ßá‡¶¶‡¶æ‡¶≤‡ßá ‡¶™‡¶ø‡¶â ‡¶≠‡¶ø‡¶ö‡¶ø‡¶®‡ßã?",
            banglaMeaning:"‡¶®‡¶ø‡¶ï‡¶ü‡¶§‡¶Æ ‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤ ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º?",
            englishMeaning:"Where is the nearest hospital?"
        },
        // Add more conversation items with similar structure if needed
    ];

    const conversationData = {
        russia: russiaConversations,
        france: franceConversations,
        italy: italyConversations
    };

    const languageSelect = document.getElementById('language-select');
    const vocabularyGrid = document.getElementById('vocabulary-grid');
    const welcomeMessage = document.getElementById('welcome-message');
    const practiceToggleContainer = document.getElementById('practice-toggle');
    const practiceCheckbox = document.getElementById('practice-mode');

    let practiceMode = false;

    const speechLangMap = {
        russia: 'ru-RU',
        france: 'fr-FR',
        italy: 'it-IT'
    };

    function clearHighlight() {
        document.querySelectorAll('.word-card.highlight').forEach(card=>{
            card.classList.remove('highlight');
        });
    }

    function createCard(convo, countryKey){
        const card = document.createElement('div');
        card.className = 'word-card';
        card.tabIndex = 0;
        card.innerHTML = `
            <div class="native-text" title="Native Text">${convo.native}</div>
            <div class="bangla-pronunciation" title="Bangla Pronunciation">${convo.banglaPronunciation}</div>
            <div class="bangla-meaning" title="Bangla Meaning">${convo.banglaMeaning}</div>
            <div class="english-meaning" title="English Meaning">${convo.englishMeaning}</div>
        `;
        if(practiceMode){
            const btn = document.createElement('button');
            btn.className = 'practice-btn';
            btn.type = 'button';
            btn.textContent = 'üîä Practice';
            btn.title = 'Click to hear and practice pronunciation';
            btn.addEventListener('click', () => {
                clearHighlight();
                card.classList.add('highlight');
                speakText(convo.native, speechLangMap[countryKey] || 'en-US');
            });
            card.appendChild(btn);
        }
        return card;
    }

    function createInlineAd() {
        const ad = document.createElement('div');
        ad.className = 'ad-inline';
        ad.setAttribute('role', 'complementary');
        ad.setAttribute('aria-label', 'Advertisement');
        ad.textContent = 'üåê Learn more languages and expand your European journey with LearnEU Premium! Visit learn-eu.example.com';
        return ad;
    }

    function displayVocabulary(conversations, countryKey){
        vocabularyGrid.innerHTML = '';
        if(!conversations.length){
            vocabularyGrid.innerHTML='<p style="text-align:center; color:#777; font-style:italic;">‡¶ï‡ßã‡¶®‡ßã ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡¶∏‡ßá‡¶∂‡¶® ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø</p>';
            return;
        }
        conversations.forEach((convo, index) => {
            const card = createCard(convo, countryKey);
            vocabularyGrid.appendChild(card);
            if ((index + 1) % 5 === 0 && index !== conversations.length - 1) {
                vocabularyGrid.appendChild(createInlineAd());
            }
        });
    }

    function speakText(text, lang){
        if(!('speechSynthesis' in window)){
            alert('Sorry, your browser does not support speech synthesis.');
            return;
        }
        const synth = window.speechSynthesis;
        if (synth.speaking) {
            synth.cancel();
        }
        const utterThis = new SpeechSynthesisUtterance(text);
        utterThis.lang = lang;
        synth.speak(utterThis);
    }

    function loadVocabulary(){
        const selected = languageSelect.value;
        clearHighlight();

        if(selected === '0'){ // no selection
            vocabularyGrid.hidden = true;
            welcomeMessage.style.display = 'block';
            practiceToggleContainer.hidden = true;
            practiceCheckbox.checked = false;
            practiceMode = false;
            document.activeElement.blur();
        } else {
            welcomeMessage.style.display = 'none';
            vocabularyGrid.hidden = false;
            practiceToggleContainer.hidden = false;

            if(selected === 'all'){
                const allConvos = [
                    ...russiaConversations,
                    ...franceConversations,
                    ...italyConversations
                ];
                displayVocabulary(allConvos, '');
            } else {
                displayVocabulary(conversationData[selected] || [], selected);
            }
        }
    }

    function togglePracticeMode(){
        practiceMode = practiceCheckbox.checked;
        loadVocabulary();
    }

    (function init(){
        loadVocabulary();
        languageSelect.addEventListener('change', loadVocabulary);
        practiceCheckbox.addEventListener('change', togglePracticeMode);
    })();
</script>
</body>
</html>

