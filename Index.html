<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speak EU - ржЗржЙрж░рзЛржкрзАржпрж╝ ржнрж╛рж╖рж╛ рж╢рж┐ржЦрзБржи | рзирзоржЯрж┐ ржжрзЗрж╢рзЗрж░ ржнрж╛рж╖рж╛</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="рзирзоржЯрж┐ ржЗржЙрж░рзЛржкрзАржпрж╝ ржжрзЗрж╢рзЗрж░ ржнрж╛рж╖рж╛ рж╢рж┐ржЦрзБржиред рзз,рзкрзж,рзжрзжрзж+ рж╢ржмрзНржж ржУ ржмрж╛ржХрзНржпрзЗрж░ ржмрж┐рж╢рж╛рж▓ рж╕ржВржЧрзНрж░рж╣ред ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзА ржкрзНрж░ржмрж╛рж╕рзАржжрзЗрж░ ржЬржирзНржп ржмрж┐рж╢рзЗрж╖ржнрж╛ржмрзЗ рждрзИрж░рж┐ред">
    <meta name="keywords" content="ржЗржЙрж░рзЛржкрзАржпрж╝ ржнрж╛рж╖рж╛, ржЬрж╛рж░рзНржорж╛ржи, ржлрж░рж╛рж╕рж┐, рж╕рзНржкрзНржпрж╛ржирж┐рж╢, ржЗрждрж╛рж▓рж┐ржпрж╝рж╛ржи, ржнрж╛рж╖рж╛ рж╢рзЗржЦрж╛, ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзА ржкрзНрж░ржмрж╛рж╕рзА">
    <meta name="author" content="Speak EU">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Speak EU - ржЗржЙрж░рзЛржкрзАржпрж╝ ржнрж╛рж╖рж╛ рж╢рж┐ржЦрзБржи">
    <meta property="og:description" content="рзирзоржЯрж┐ ржЗржЙрж░рзЛржкрзАржпрж╝ ржжрзЗрж╢рзЗрж░ ржнрж╛рж╖рж╛ рж╢рж┐ржЦрзБржиред рзз,рзкрзж,рзжрзжрзж+ рж╢ржмрзНржж ржУ ржмрж╛ржХрзНржпрзЗрж░ ржмрж┐рж╢рж╛рж▓ рж╕ржВржЧрзНрж░рж╣ред">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mehedi-x.github.io/speak_eu/">
    <meta property="og:image" content="https://mehedi-x.github.io/speak_eu/icons/icon-512x512.png">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Speak EU - ржЗржЙрж░рзЛржкрзАржпрж╝ ржнрж╛рж╖рж╛ рж╢рж┐ржЦрзБржи">
    <meta name="twitter:description" content="рзирзоржЯрж┐ ржЗржЙрж░рзЛржкрзАржпрж╝ ржжрзЗрж╢рзЗрж░ ржнрж╛рж╖рж╛ рж╢рж┐ржЦрзБржиред рзз,рзкрзж,рзжрзжрзж+ рж╢ржмрзНржж ржУ ржмрж╛ржХрзНржпрзЗрж░ ржмрж┐рж╢рж╛рж▓ рж╕ржВржЧрзНрж░рж╣ред">
    
    <!-- PWA Meta -->
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Speak EU">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/icon-16x16.png">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <link rel="mask-icon" href="icons/icon-192x192.png" color="#2563eb">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/animations.css">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="css/style.css" as="style">
    <link rel="preload" href="js/app.js" as="script">
</head>
<body class="light-theme">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">ЁЯЧгя╕П Speak EU</div>
            <div id="loadingText" class="loading-text">ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржкрзНрж░рж╕рзНрждрзБржд ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...</div>
            <div class="loading-progress">
                <div id="loadingProgress" class="loading-progress-bar" style="width: 0%"></div>
            </div>
            <div id="loadingPercentage" class="loading-percentage">0%</div>
            <div class="loading-subtitle">ржжржпрж╝рж╛ ржХрж░рзЗ ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзБржи</div>
        </div>
    </div>

    <!-- Network Status -->
    <div id="networkStatus" class="network-status">
        <span id="networkMessage">ржЗржирзНржЯрж╛рж░ржирзЗржЯ рж╕ржВржпрзЛржЧ ржЪрзЗржХ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...</span>
    </div>

    <!-- Main Application -->
    <div id="app" class="app-container">
        <!-- Header -->
        <header id="mainHeader" class="main-header">
            <div class="header-content">
                <div class="header-left">
                    <button id="mobileMenuBtn" class="mobile-menu-btn md:hidden">
                        <span class="btn-icon">тШ░</span>
                    </button>
                    
                    <div class="app-logo">
                        <span class="logo-icon">ЁЯЧгя╕П</span>
                        <span class="logo-text">Speak EU</span>
                    </div>
                </div>
                
                <nav class="main-nav hidden md:flex">
                    <button class="nav-item active" data-section="home">
                        <span class="nav-icon">ЁЯПа</span>
                        <span>рж╣рзЛржо</span>
                    </button>
                    <button class="nav-item" data-section="languages">
                        <span class="nav-icon">ЁЯМН</span>
                        <span>ржнрж╛рж╖рж╛рж╕ржорзВрж╣</span>
                    </button>
                    <button class="nav-item" data-section="learn">
                        <span class="nav-icon">ЁЯУЪ</span>
                        <span>рж╢рж┐ржЦрзБржи</span>
                    </button>
                    <button class="nav-item" data-section="progress">
                        <span class="nav-icon">ЁЯУК</span>
                        <span>ржЕржЧрзНрж░ржЧрждрж┐</span>
                    </button>
                </nav>
                
                <div class="header-actions">
                    <button id="searchToggle" class="action-btn" title="рж╕рж╛рж░рзНржЪ ржХрж░рзБржи">
                        <span class="btn-icon">ЁЯФН</span>
                    </button>
                    
                    <button id="themeToggle" class="action-btn" title="ржерж┐ржо ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзБржи">
                        <span class="btn-icon">ЁЯМЩ</span>
                    </button>
                    
                    <div class="progress-indicator">
                        <span class="progress-text">ржЖржЬ: <span id="todayProgress">0</span></span>
                        <span class="streak-text">рж╕рзНржЯрзНрж░рж┐ржХ: <span id="currentStreak">0</span></span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Global Search -->
        <div id="globalSearch" class="global-search hidden">
            <div class="search-container">
                <div class="search-header">
                    <input type="text" id="globalSearchInput" class="search-input" 
                           placeholder="ржпрзЗржХрзЛржирзЛ ржнрж╛рж╖рж╛ржпрж╝ ржмрж╛ ржмрж╛ржВрж▓рж╛ржпрж╝ рж╕рж╛рж░рзНржЪ ржХрж░рзБржи...">
                    <button id="globalSearchBtn" class="search-btn">
                        <span>ЁЯФН</span>
                    </button>
                    <button id="searchClose" class="search-close">
                        <span>тЬХ</span>
                    </button>
                </div>
                <div id="searchSuggestions" class="search-suggestions">
                    <!-- Search results will appear here -->
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main id="mainContent" class="main-content">
            <!-- Home Section -->
            <section id="homeSection" class="content-section active">
                <div class="hero-section">
                    <div class="hero-content">
                        <h1 class="hero-title">
                            <span class="title-main">ЁЯЧгя╕П Speak EU</span>
                            <span class="title-subtitle">ржЗржЙрж░рзЛржкрзАржпрж╝ ржнрж╛рж╖рж╛ рж╢рж┐ржЦрзБржи</span>
                        </h1>
                        
                        <p class="hero-description">
                            рзирзоржЯрж┐ ржЗржЙрж░рзЛржкрзАржпрж╝ ржжрзЗрж╢рзЗрж░ ржнрж╛рж╖рж╛ рж╢рж┐ржЦрзБржиред рзз,рзкрзж,рзжрзжрзж+ рж╢ржмрзНржж ржУ ржмрж╛ржХрзНржпрзЗрж░ ржмрж┐рж╢рж╛рж▓ рж╕ржВржЧрзНрж░рж╣ред 
                            ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзА ржЫрж╛рждрзНрж░, ржХрж░рзНржорзА ржУ ржкрж░рзНржпржЯржХржжрзЗрж░ ржЬржирзНржп ржмрж┐рж╢рзЗрж╖ржнрж╛ржмрзЗ рждрзИрж░рж┐ред
                        </p>
                        
                        <div class="hero-stats">
                            <div class="stat-item">
                                <div class="stat-number">28</div>
                                <div class="stat-label">ржжрзЗрж╢рзЗрж░ ржнрж╛рж╖рж╛</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">140K+</div>
                                <div class="stat-label">рж╢ржмрзНржж ржУ ржмрж╛ржХрзНржп</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">23</div>
                                <div class="stat-label">ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐</div>
                            </div>
                        </div>
                        
                        <div class="hero-actions">
                            <button class="btn btn-primary btn-large" data-action="start-learning">
                                <span class="btn-icon">ЁЯЪА</span>
                                <span>рж╢рзЗржЦрж╛ рж╢рзБрж░рзБ ржХрж░рзБржи</span>
                            </button>
                            
                            <button class="btn btn-secondary btn-large" data-action="browse-languages">
                                <span class="btn-icon">ЁЯМН</span>
                                <span>ржнрж╛рж╖рж╛ ржжрзЗржЦрзБржи</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h2>ржжрзНрж░рзБржд ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕</h2>
                    <div class="quick-actions-grid">
                        <button class="quick-action-card" data-action="emergency">
                            <span class="action-icon">ЁЯЪи</span>
                            <h3>ржЬрж░рзБрж░рж┐ ржмрж╛ржХрзНржп</h3>
                            <p>ржЬрж░рзБрж░рж┐ ржЕржмрж╕рзНржерж╛ржпрж╝ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржмрж╛ржХрзНржп</p>
                        </button>
                        
                        <button class="quick-action-card" data-action="daily">
                            <span class="action-icon">ЁЯТм</span>
                            <h3>ржжрзИржиржирзНржжрж┐ржи ржХржерзЛржкржХржержи</h3>
                            <p>ржкрзНрж░рждрж┐ржжрж┐ржирзЗрж░ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржмрж╛ржХрзНржп</p>
                        </button>
                        
                        <button class="quick-action-card" data-action="work">
                            <span class="action-icon">ЁЯТ╝</span>
                            <h3>ржХрж░рзНржоржХрзНрж╖рзЗрждрзНрж░рзЗрж░ ржнрж╛рж╖рж╛</h3>
                            <p>ржЕржлрж┐рж╕ ржУ ржХрж╛ржЬрзЗрж░ ржЬржирзНржп ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржмрж╛ржХрзНржп</p>
                        </button>
                        
                        <button class="quick-action-card" data-action="travel">
                            <span class="action-icon">тЬИя╕П</span>
                            <h3>ржнрзНрж░ржоржгрзЗрж░ ржнрж╛рж╖рж╛</h3>
                            <p>ржнрзНрж░ржоржг ржУ ржкрж░рж┐ржмрж╣ржирзЗрж░ ржЬржирзНржп ржмрж╛ржХрзНржп</p>
                        </button>
                    </div>
                </div>
                
                <!-- Popular Languages -->
                <div class="popular-languages">
                    <h2>ржЬржиржкрзНрж░рж┐ржпрж╝ ржнрж╛рж╖рж╛рж╕ржорзВрж╣</h2>
                    <div id="popularLanguagesGrid" class="languages-grid">
                        <!-- Popular languages will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Languages Section -->
            <section id="languagesSection" class="content-section">
                <div class="section-header">
                    <h1>ЁЯМН ржЗржЙрж░рзЛржкрзАржпрж╝ ржнрж╛рж╖рж╛рж╕ржорзВрж╣</h1>
                    <p>рзирзоржЯрж┐ ржжрзЗрж╢рзЗрж░ ржнрж╛рж╖рж╛ рж╢рж┐ржЦрзБржи - рж╢рзЗржиржЬрзЗржи ржУ ржиржи-рж╢рзЗржиржЬрзЗржи ржжрзЗрж╢ рж╕рж╣</p>
                </div>
                
                <!-- Language Filters -->
                <div class="filter-section">
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-filter="all">
                            <span>рж╕ржм ржнрж╛рж╖рж╛</span>
                            <span class="tab-count">28</span>
                        </button>
                        <button class="filter-tab" data-filter="popular">
                            <span>ржЬржиржкрзНрж░рж┐ржпрж╝</span>
                            <span class="tab-count">5</span>
                        </button>
                        <button class="filter-tab" data-filter="schengen">
                            <span>рж╢рзЗржиржЬрзЗржи</span>
                            <span class="tab-count">27</span>
                        </button>
                        <button class="filter-tab" data-filter="non-schengen">
                            <span>ржиржи-рж╢рзЗржиржЬрзЗржи</span>
                            <span class="tab-count">1</span>
                        </button>
                    </div>
                    
                    <div class="search-filter">
                        <input type="text" id="languageSearch" class="search-input" 
                               placeholder="ржнрж╛рж╖рж╛ ржмрж╛ ржжрзЗрж╢рзЗрж░ ржирж╛ржо ржЦрзБржБржЬрзБржи...">
                        <span class="search-icon">ЁЯФН</span>
                    </div>
                </div>
                
                <!-- Languages Grid -->
                <div id="languagesGrid" class="languages-grid">
                    <!-- Languages will be loaded here -->
                </div>
            </section>

            <!-- Learning Section -->
            <section id="learnSection" class="content-section">
                <!-- Language Selection -->
                <div id="languageSelection" class="language-selection">
                    <div class="selection-header">
                        <h1>ЁЯУЪ ржнрж╛рж╖рж╛ рж╢рж┐ржЦрзБржи</h1>
                        <p>ржЖржкржирж╛рж░ ржкржЫржирзНржжрзЗрж░ ржнрж╛рж╖рж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</p>
                    </div>
                    
                    <div class="language-selector">
                        <select id="languageSelect" class="language-select">
                            <option value="">ржПржХржЯрж┐ ржнрж╛рж╖рж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи...</option>
                        </select>
                    </div>
                </div>
                
                <!-- Learning Interface -->
                <div id="learningInterface" class="learning-interface hidden">
                    <!-- Current Language Header -->
                    <div class="current-language">
                        <div class="language-info">
                            <span id="currentLanguageFlag" class="language-flag">ЁЯЗйЁЯЗк</span>
                            <div class="language-details">
                                <h2 id="currentLanguageName">ржЬрж╛рж░рзНржорж╛ржи (Deutsch)</h2>
                                <p id="currentLanguageInfo">ржЬрж╛рж░рзНржорж╛ржирж┐ тАв 83M ржЬржирж╕ржВржЦрзНржпрж╛ тАв 5,284 рж╢ржмрзНржж</p>
                            </div>
                        </div>
                        
                        <div class="learning-stats">
                            <div class="stat-item">
                                <span class="stat-label">ржЖржЬ рж╢рж┐ржЦрзЗржЫрж┐</span>
                                <span id="todayLearned" class="stat-value">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">ржорзЛржЯ рж╢рж┐ржЦрзЗржЫрж┐</span>
                                <span id="totalLearned" class="stat-value">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">рж╕рзНржЯрзНрж░рж┐ржХ</span>
                                <span id="learningStreak" class="stat-value">0</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Learning Controls -->
                    <div class="learning-controls">
                        <div class="control-group">
                            <label for="categoryFilter">ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐:</label>
                            <select id="categoryFilter" class="control-select">
                                <option value="all">рж╕ржм ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐</option>
                            </select>
                        </div>
                        
                        <div class="control-group">
                            <label for="difficultyFilter">ржХржарж┐ржирждрж╛:</label>
                            <select id="difficultyFilter" class="control-select">
                                <option value="all">рж╕ржм рж▓рзЗржнрзЗрж▓</option>
                                <option value="beginner">рж╕рж╣ржЬ</option>
                                <option value="intermediate">ржоржзрзНржпржо</option>
                                <option value="advanced">ржХржарж┐ржи</option>
                            </select>
                        </div>
                        
                        <button id="shuffleBtn" class="btn btn-outline">
                            <span class="btn-icon">ЁЯФА</span>
                            <span>ржПрж▓рзЛржорзЗрж▓рзЛ</span>
                        </button>
                    </div>
                    
                    <!-- Vocabulary List -->
                    <div id="vocabularyList" class="vocabulary-list">
                        <!-- Vocabulary cards will be loaded here -->
                    </div>
                    
                    <!-- Load More -->
                    <div class="load-more-section">
                        <button id="loadMoreBtn" class="btn btn-secondary">
                            <span class="btn-icon">ЁЯУе</span>
                            <span>ржЖрж░рзЛ рж▓рзЛржб ржХрж░рзБржи</span>
                        </button>
                    </div>
                </div>
                
                <!-- Loading State -->
                <div id="languageLoading" class="component-loading hidden">
                    <div class="loading-spinner"></div>
                    <span>ржнрж╛рж╖рж╛рж░ ржбрзЗржЯрж╛ рж▓рзЛржб ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...</span>
                </div>
            </section>

            <!-- Progress Section -->
            <section id="progressSection" class="content-section">
                <div class="section-header">
                    <h1>ЁЯУК ржЖржкржирж╛рж░ ржЕржЧрзНрж░ржЧрждрж┐</h1>
                    <p>рж╢рзЗржЦрж╛рж░ ржкрж░рж┐рж╕ржВржЦрзНржпрж╛ржи ржУ ржЕрж░рзНржЬржирж╕ржорзВрж╣</p>
                </div>
                
                <!-- Progress Overview -->
                <div id="progressOverview" class="progress-overview">
                    <!-- Progress cards will be loaded here -->
                </div>
                
                <!-- Progress Charts -->
                <div id="progressCharts" class="progress-charts">
                    <!-- Charts will be loaded here -->
                </div>
                
                <!-- Language Progress -->
                <div class="language-progress-section">
                    <h2>ржнрж╛рж╖рж╛ржнрж┐рждрзНрждрж┐ржХ ржЕржЧрзНрж░ржЧрждрж┐</h2>
                    <div id="languageProgressList" class="language-progress-list">
                        <!-- Language progress will be loaded here -->
                    </div>
                </div>
                
                <!-- Streak Calendar -->
                <div class="streak-section">
                    <h2>рж╢рзЗржЦрж╛рж░ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░</h2>
                    <div id="streakCalendar" class="streak-calendar">
                        <!-- Streak calendar will be loaded here -->
                    </div>
                </div>
                
                <!-- Achievements -->
                <div class="achievements-section">
                    <h2>ЁЯПЖ ржЕрж░рзНржЬржирж╕ржорзВрж╣</h2>
                    <div id="achievementsList" class="achievements-list">
                        <!-- Achievements will be loaded here -->
                    </div>
                </div>
            </section>
        </main>

        <!-- Mobile Menu -->
        <div id="mobileMenu" class="mobile-menu hidden">
            <div class="mobile-menu-overlay"></div>
            <div class="mobile-menu-content">
                <div class="mobile-menu-header">
                    <div class="app-logo">
                        <span class="logo-icon">ЁЯЧгя╕П</span>
                        <span class="logo-text">Speak EU</span>
                    </div>
                    <button id="mobileMenuClose" class="close-btn">тЬХ</button>
                </div>
                
                <nav class="mobile-nav">
                    <button class="mobile-nav-item active" data-section="home">
                        <span class="nav-icon">ЁЯПа</span>
                        <span>рж╣рзЛржо</span>
                    </button>
                    <button class="mobile-nav-item" data-section="languages">
                        <span class="nav-icon">ЁЯМН</span>
                        <span>ржнрж╛рж╖рж╛рж╕ржорзВрж╣</span>
                    </button>
                    <button class="mobile-nav-item" data-section="learn">
                        <span class="nav-icon">ЁЯУЪ</span>
                        <span>рж╢рж┐ржЦрзБржи</span>
                    </button>
                    <button class="mobile-nav-item" data-section="progress">
                        <span class="nav-icon">ЁЯУК</span>
                        <span>ржЕржЧрзНрж░ржЧрждрж┐</span>
                    </button>
                </nav>
                
                <div class="mobile-menu-stats">
                    <div class="stat-item">
                        <span class="stat-label">ржорзЛржЯ рж╢ржмрзНржж</span>
                        <span id="mobileStatsWords" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">рж╕рзНржЯрзНрж░рж┐ржХ</span>
                        <span id="mobileStatsStreak" class="stat-value">0</span>
                    </div>
                </div>
                
                <div class="mobile-menu-actions">
                    <button id="mobileThemeToggle" class="btn btn-outline">
                        <span class="btn-icon">ЁЯМЩ</span>
                        <span>ржерж┐ржо ржкрж░рж┐ржмрж░рзНрждржи</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Install Button (PWA) -->
        <button id="installBtn" class="install-btn hidden">
            <span class="btn-icon">ЁЯУ▒</span>
            <span>ржЕрзНржпрж╛ржк ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи</span>
        </button>
    </div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
    
    <!-- Critical Loading Fix Script -->
    <script>
    // ЁЯФз CRITICAL LOADING FIX - Must be included
    (function() {
        'use strict';
        
        let appInitialized = false;
        let loadingSteps = [
            { target: 15, message: 'ржнрж╛рж╖рж╛рж░ ржбрзЗржЯрж╛ ржкрзНрж░рж╕рзНрждрзБржд ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...' },
            { target: 30, message: 'ржЕржбрж┐ржУ рж╕рж┐рж╕рзНржЯрзЗржо рж▓рзЛржб ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...' },
            { target: 50, message: 'ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ рж╕рзЗржЯрж┐ржВрж╕ рж▓рзЛржб ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...' },
            { target: 70, message: 'ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ ржкрзНрж░рж╕рзНрждрзБржд ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...' },
            { target: 85, message: 'ржЕржЧрзНрж░ржЧрждрж┐рж░ ржбрзЗржЯрж╛ рж▓рзЛржб ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...' },
            { target: 95, message: 'ржЪрзВржбрж╝рж╛ржирзНржд ржкрзНрж░рж╕рзНрждрзБрждрж┐...' }
        ];
        
        function updateLoadingProgress() {
            const progressBar = document.getElementById('loadingProgress');
            const percentage = document.getElementById('loadingPercentage');
            const loadingText = document.getElementById('loadingText');
            
            if (!progressBar || !percentage || !loadingText) {
                console.warn('Loading elements not found');
                return;
            }
            
            let currentStep = 0;
            let currentProgress = 0;
            
            const progressInterval = setInterval(() => {
                if (currentStep >= loadingSteps.length) {
                    clearInterval(progressInterval);
                    return;
                }
                
                const step = loadingSteps[currentStep];
                const targetProgress = step.target;
                const increment = (targetProgress - currentProgress) / 8;
                
                currentProgress += increment;
                
                if (currentProgress >= targetProgress - 1) {
                    currentProgress = targetProgress;
                    loadingText.textContent = step.message;
                    currentStep++;
                }
                
                progressBar.style.width = currentProgress + '%';
                percentage.textContent = Math.round(currentProgress) + '%';
                
            }, 150);
        }
        
        function completeLoading() {
            const progressBar = document.getElementById('loadingProgress');
            const percentage = document.getElementById('loadingPercentage');
            const loadingText = document.getElementById('loadingText');
            
            if (progressBar) progressBar.style.width = '100%';
            if (percentage) percentage.textContent = '100%';
            if (loadingText) loadingText.textContent = 'рж╕ржорзНржкрзВрж░рзНржг! рж╕рзНржмрж╛ржЧрждржо Speak EU рждрзЗ ЁЯОЙ';
            
            setTimeout(() => {
                const loadingScreen = document.getElementById('loadingScreen');
                if (loadingScreen) {
                    loadingScreen.classList.add('hidden');
                    setTimeout(() => {
                        if (loadingScreen.parentNode) {
                            loadingScreen.remove();
                        }
                    }, 500);
                }
            }, 800);
        }
        
        function showErrorScreen(error) {
            const loadingScreen = document.getElementById('loadingScreen');
            if (loadingScreen) {
                loadingScreen.innerHTML = `
                    <div class="loading-content">
                        <div style="text-align: center; color: white;">
                            <h2 style="color: #ef4444; margin-bottom: 20px;">ЁЯШФ рж▓рзЛржбрж┐ржВ ржП рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝рзЗржЫрзЗ</h2>
                            <p style="margin-bottom: 20px;">ржжржпрж╝рж╛ ржХрж░рзЗ ржкрзЗржЬ рж░рж┐ржлрзНрж░рзЗрж╢ ржХрж░рзБржи ржмрж╛ ржкрж░рзЗ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи</p>
                            <div style="background: rgba(239, 68, 68, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                                <p style="font-size: 14px; color: #fca5a5;">Error: ${error?.message || 'Unknown error'}</p>
                            </div>
                            <button onclick="window.location.reload()" 
                                    style="background: #ef4444; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 16px;">
                                ЁЯФД ржкрзЗржЬ рж░рж┐ржлрзНрж░рзЗрж╢ ржХрж░рзБржи
                            </button>
                        </div>
                    </div>
                `;
            }
        }
        
        async function initializeApp() {
            if (appInitialized) return;
            
            try {
                console.log('ЁЯЪА Starting Speak EU initialization...');
                
                // Check if app exists
                if (typeof window.app === 'undefined') {
                    throw new Error('Main app object not found. Check if app.js loaded correctly.');
                }
                
                // Initialize the app
                await window.app.init();
                
                appInitialized = true;
                console.log('тЬЕ Speak EU initialized successfully');
                
                // Complete loading animation
                completeLoading();
                
            } catch (error) {
                console.error('тЭМ App initialization failed:', error);
                showErrorScreen(error);
            }
        }
        
        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ЁЯУД DOM loaded, starting initialization...');
            
            // Start loading animation
            updateLoadingProgress();
            
            // Initialize app after a short delay to show loading
            setTimeout(() => {
                initializeApp();
            }, 2000);
        });
        
        // Handle loading errors
        window.addEventListener('error', function(event) {
            console.error('Global error:', event.error);
            if (!appInitialized) {
                showErrorScreen(event.error);
            }
        });
        
        // Handle unhandled promise rejections
        window.addEventListener('unhandledrejection', function(event) {
            console.error('Unhandled promise rejection:', event.reason);
            if (!appInitialized) {
                showErrorScreen(new Error('Promise rejection: ' + event.reason));
            }
        });
        
    })();
    </script>
</body>
</html>
